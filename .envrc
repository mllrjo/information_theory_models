# File: .envrc
# Directory: ./

export VIRTUAL_ENV=.venv
layout python3

# Project-specific environment variables
export PROJECT_NAME=information_theory_models
export PYTHONPATH="${PWD}/src:${PYTHONPATH}"
export LOG_LEVEL=INFO

# Auto-detect environment type
if [[ -x "$(command -v nvcc)" && -d "/usr/local/cuda" ]]; then
    export ENVIRONMENT_TYPE=gpu
    export CUDA_VISIBLE_DEVICES=0
    echo "GPU environment detected"
else
    export ENVIRONMENT_TYPE=cpu
    export CUDA_VISIBLE_DEVICES=""
    echo "CPU environment detected"
fi

# Development settings
export TOKENIZERS_PARALLELISM=false
export OMP_NUM_THREADS=1

# Create logs directory if it doesn't exist
mkdir -p logs
mkdir -p checkpoints
